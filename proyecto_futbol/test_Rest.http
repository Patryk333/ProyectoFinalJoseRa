### ========================================
### PROYECTO FÚTBOL - API REST
### ========================================
### Base URL
@baseUrl = http://localhost:8090/api/futbol

### ========================================
### JUGADORES - CRUD
### ========================================

### 1. CREAR JUGADOR - Éxito
POST {{baseUrl}}/jugadores/crear 
Content-Type: application/json

{
    "nombre": "Juan Domingo",
    "dorsal": 33,
    "posicion": "Delantero",
    "nacionalidad": "Español",
    "fechaNacimiento": "19/06/2000",
    "idEquipo": 2
}

### 2. CREAR JUGADOR - Error 400: Dorsal fuera de rango (mayor a 99)
POST {{baseUrl}}/jugadores/crear
Content-Type: application/json

{
    "nombre": "Juan Pérez",
    "dorsal": 150,
    "posicion": "Portero",
    "nacionalidad": "Español",
    "fechaNacimiento": "10/05/1995",
    "idEquipo": 1
}

### 3. CREAR JUGADOR - Error 400: Dorsal menor que 1
POST {{baseUrl}}/jugadores/crear
Content-Type: application/json

{
    "nombre": "Carlos López",
    "dorsal": -10,
    "posicion": "Defensa",
    "nacionalidad": "Español",
    "fechaNacimiento": "15/08/1998",
    "idEquipo": 1
}

### 4. CREAR JUGADOR - Error 422: Campo nombre nulo
POST {{baseUrl}}/jugadores/crear
Content-Type: application/json

{
    "nombre": null,
    "dorsal": 10,
    "posicion": "Centrocampista",
    "nacionalidad": "Español",
    "fechaNacimiento": "20/03/2001",
    "idEquipo": 1
}

### 5. CREAR JUGADOR - Error 422: Campo posición faltante
POST {{baseUrl}}/jugadores/crear
Content-Type: application/json

{
    "nombre": "David García",
    "dorsal": 7,
    "nacionalidad": "Español",
    "fechaNacimiento": "25/11/1999",
    "idEquipo": 1
}

### 6. CREAR JUGADOR - Error 422: Campo nacionalidad faltante
POST {{baseUrl}}/jugadores/crear
Content-Type: application/json

{
    "nombre": "Rafael Martín",
    "dorsal": 22,
    "posicion": "Delantero",
    "fechaNacimiento": "30/07/1997",
    "idEquipo": 1
}

### 7. CREAR JUGADOR - Error 422: Campo fechaNacimiento faltante
POST {{baseUrl}}/jugadores/crear
Content-Type: application/json

{
    "nombre": "Antonio López",
    "dorsal": 5,
    "posicion": "Defensa",
    "nacionalidad": "Español",
    "idEquipo": 1
}

### 8. CREAR JUGADOR - Error 422: Campo idEquipo faltante
POST {{baseUrl}}/jugadores/crear
Content-Type: application/json

{
    "nombre": "Miguel Rodríguez",
    "dorsal": 18,
    "posicion": "Centrocampista",
    "nacionalidad": "Español",
    "fechaNacimiento": "12/04/1996"
}

### 9. CREAR JUGADOR - Error 409: idEquipo inválido (0)
POST {{baseUrl}}/jugadores/crear
Content-Type: application/json

{
    "nombre": "Pedro González",
    "dorsal": 15,
    "posicion": "Centrocampista",
    "nacionalidad": "Español",
    "fechaNacimiento": "08/02/1999",
    "idEquipo": 0
}

### 10. CREAR JUGADOR - Error 409: idEquipo negativo
POST {{baseUrl}}/jugadores/crear
Content-Type: application/json

{
    "nombre": "Sergio Fernández",
    "dorsal": 11,
    "posicion": "Delantero",
    "nacionalidad": "Español",
    "fechaNacimiento": "22/09/2000",
    "idEquipo": -1
}

### 11. LEER JUGADORES - Obtener todos
GET {{baseUrl}}/jugadores

### 12. LEER JUGADOR - Error 404: No existe
GET {{baseUrl}}/jugadores/999

### 13. BUSCAR JUGADOR - Por nombre
GET {{baseUrl}}/jugadores/buscar/nombre?nombre=Ter S

### 14. BUSCAR JUGADOR - Sin resultados
GET {{baseUrl}}/jugadores/buscar/nombre?nombre=NoExiste

### 15. ACTUALIZAR JUGADOR - Error 404: No existe
PUT {{baseUrl}}/jugadores/999
Content-Type: application/json

{
    "nombre": "Nombre Actualizado",
    "dorsal": 45,
    "posicion": "Delantero",
    "nacionalidad": "Português",
    "fechaNacimiento": "01/01/1990",
    "idEquipo": 2
}

### 16. ACTUALIZAR JUGADOR - Error 400: Dorsal inválido
PUT {{baseUrl}}/jugadores/1
Content-Type: application/json

{
    "nombre": "Nombre Actualizado",
    "dorsal": 250,
    "posicion": "Delantero",
    "nacionalidad": "Português",
    "fechaNacimiento": "01/01/1990",
    "idEquipo": 2
}

### 17. ACTUALIZAR JUGADOR - Error 409: idEquipo inválido
PUT {{baseUrl}}/jugadores/1
Content-Type: application/json

{
    "nombre": "Marvel Dreamer Actualizado",
    "dorsal": 99,
    "posicion": "Centrocampista",
    "nacionalidad": "Portugués",
    "fechaNacimiento": "19/06/2000",
    "idEquipo": -5
}

### 18. ACTUALIZAR JUGADOR - Éxito
PUT {{baseUrl}}/jugadores/2
Content-Type: application/json

{
    "nombre": "Juan",
    "dorsal": 99,
    "posicion": "Centrocampista",
    "nacionalidad": "Portugués",
    "fechaNacimiento": "19/06/2000",
    "idEquipo": 1
}

### 19. ELIMINAR JUGADOR - Error 404: No existe
DELETE {{baseUrl}}/jugadores/999

### 20. ELIMINAR JUGADOR - Éxito
DELETE {{baseUrl}}/jugadores/5

### ========================================
### EQUIPOS - CRUD
### ========================================

### 21. CREAR EQUIPO - Éxito
POST {{baseUrl}}/equipos/crear 
Content-Type: application/json

{
    "nombre": "Real Madrid",
    "estadio": "Santiago Bernabéu",
    "entrenador": "Carlo Ancelotti",
    "ciudad": "Madrid",
    "fundacion": 1902,
    "idLiga": 1
}

### 22. CREAR EQUIPO - Error 400: Fundación negativa
POST {{baseUrl}}/equipos/crear
Content-Type: application/json

{
    "nombre": "FC Barcelona",
    "estadio": "Camp Nou",
    "entrenador": "Xavi Hernández",
    "ciudad": "Barcelona",
    "fundacion": -1900,
    "idLiga": 1
}

### 23. CREAR EQUIPO - Error 422: Campo nombre nulo
POST {{baseUrl}}/equipos/crear
Content-Type: application/json

{
    "nombre": null,
    "estadio": "Wanda Metropolitano",
    "entrenador": "Diego Pablo Simeone",
    "ciudad": "Madrid",
    "fundacion": 1903,
    "idLiga": 1
}

### 24. CREAR EQUIPO - Error 422: Campo nombre faltante
POST {{baseUrl}}/equipos/crear
Content-Type: application/json

{
    "estadio": "La Cartuja",
    "entrenador": "Entrenador A",
    "ciudad": "Sevilla",
    "fundacion": 1890,
    "idLiga": 1
}

### 25. CREAR EQUIPO - Error 422: Campo idLiga faltante
POST {{baseUrl}}/equipos/crear
Content-Type: application/json

{
    "nombre": "Real Sociedad",
    "estadio": "Anoeta",
    "entrenador": "Imanol Alguacil",
    "ciudad": "San Sebastián",
    "fundacion": 1909
}

### 26. CREAR EQUIPO - Error 409: idLiga inválido (0)
POST {{baseUrl}}/equipos/crear
Content-Type: application/json

{
    "nombre": "Valencia CF",
    "estadio": "Mestalla",
    "entrenador": "Rubén Baraja",
    "ciudad": "Valencia",
    "fundacion": 1919,
    "idLiga": 0
}

### 27. CREAR EQUIPO - Error 409: idLiga negativo
POST {{baseUrl}}/equipos/crear
Content-Type: application/json

{
    "nombre": "Real Betis",
    "estadio": "Benito Villamarín",
    "entrenador": "Manuel Pellegrini",
    "ciudad": "Sevilla",
    "fundacion": 1907,
    "idLiga": -1
}

### 28. LEER EQUIPOS - Obtener todos
GET {{baseUrl}}/equipos

### 29. LEER EQUIPO - Error 404: No existe
GET {{baseUrl}}/equipos/999

### 30. BUSCAR EQUIPO - Por nombre
GET {{baseUrl}}/equipos/buscar/nombre?nombre=Madrid

### 31. BUSCAR EQUIPO - Sin resultados
GET {{baseUrl}}/equipos/buscar/nombre?nombre=NoExiste

### 32. ACTUALIZAR EQUIPO - Error 404: No existe
PUT {{baseUrl}}/equipos/999
Content-Type: application/json

{
    "nombre": "Equipo Actualizado",
    "estadio": "Estadio Nuevo",
    "entrenador": "Nuevo Entrenador",
    "ciudad": "Ciudad Nueva",
    "fundacion": 2000,
    "idLiga": 2
}

### 33. ACTUALIZAR EQUIPO - Error 409: idLiga inválido
PUT {{baseUrl}}/equipos/1
Content-Type: application/json

{
    "nombre": "Real Madrid Actualizado",
    "estadio": "Santiago Bernabéu",
    "entrenador": "Carlo Ancelotti",
    "ciudad": "Madrid",
    "fundacion": 1902,
    "idLiga": -5
}

### 34. ACTUALIZAR EQUIPO - Éxito
PUT {{baseUrl}}/equipos/6
Content-Type: application/json

{
    "nombre": "Real Madrid CF",
    "estadio": "Santiago Bernabéu",
    "entrenador": "Carlo Ancelotti",
    "ciudad": "Madrid",
    "fundacion": 1902,
    "idLiga": 1
}

### 35. ELIMINAR EQUIPO - Error 404: No existe
DELETE {{baseUrl}}/equipos/999

### 36. ELIMINAR EQUIPO - Éxito
DELETE {{baseUrl}}/equipos/6

### ========================================
### JUGADORES - PAGINACIÓN, ORDENACIÓN Y FILTRADO
### ========================================

### 37. PAGINACIÓN - Básica (página 0, 5 elementos)
GET {{baseUrl}}/jugadores/filtrado?page=0&size=5

### 38. ORDENACIÓN - Por nombre ascendente
GET {{baseUrl}}/jugadores/filtrado?page=0&size=5&sort=nombre,asc

### 39. ORDENACIÓN - Por dorsal descendente
GET {{baseUrl}}/jugadores/filtrado?page=0&size=5&sort=dorsal,desc

### 40. FILTRO - Dorsal igual a 10
GET {{baseUrl}}/jugadores/filtrado?filter=dorsal=10&page=0&size=10

### 41. FILTRO - Dorsal mayor que 15
GET {{baseUrl}}/jugadores/filtrado?filter=dorsal>15&page=0&size=10

### 42. FILTRO - Dorsal menor que 10
GET {{baseUrl}}/jugadores/filtrado?filter=dorsal<10&page=0&size=10

### 43. FILTRO - Nombre contiene texto
GET {{baseUrl}}/jugadores/filtrado?filter=nombre~Al&page=0&size=10

### 44. FILTRO - Nacionalidad igual a
GET {{baseUrl}}/jugadores/filtrado?filter=nacionalidad=Argentina&page=0&size=10

### 45. FILTROS MÚLTIPLES - Dorsal > 5 Y nombre contiene "a"
GET {{baseUrl}}/jugadores/filtrado?filter=dorsal>5&filter=nombre~a&page=0&size=10

### 46. FILTRO + ORDENACIÓN - Dorsal > 7 ordenado por nombre desc
GET {{baseUrl}}/jugadores/filtrado?filter=dorsal>7&page=0&size=10&sort=nombre,desc

### 47. FILTRADO - Consulta con múltiples filtros usando sintaxis simplificada
GET {{baseUrl}}/jugadores/filtrado?filter=dorsal>5&filter=nombre~a&page=0&size=10&sort=nombre,asc

### ========================================
### EQUIPOS - PAGINACIÓN, ORDENACIÓN Y FILTRADO
### ========================================

### 48. PAGINACIÓN - Básica
GET {{baseUrl}}/equipos/filtrado?page=0&size=5

### 49. FILTRO - Nombre contiene "Real"
GET {{baseUrl}}/equipos/filtrado?filter=nombre~Real&page=0&size=10

### 50. FILTRO - Ciudad igual a "Madrid"
GET {{baseUrl}}/equipos/filtrado?filter=ciudad=Madrid&page=0&size=10

### 51. ORDENACIÓN - Por fundación descendente
GET {{baseUrl}}/equipos/filtrado?page=0&size=10&sort=fundacion,desc

### 52. FILTRADO - Consulta con filtro de ciudad usando sintaxis simplificada
GET {{baseUrl}}/equipos/filtrado?filter=ciudad~Barcelona&page=0&size=5&sort=nombre,asc

### ========================================
### EQUIPOS - RELACION EQUIPO/JUGADORES
### ========================================

### 53. LISTAR EQUIPOS CON JUGADORES
GET {{baseUrl}}/equipos/con-jugadores

### 54. OBTENER EQUIPO CON SUS JUGADORES (ID)
GET {{baseUrl}}/equipos/7/jugadores

### ========================================
### AUTENTICACIÓN CON JWT
### ========================================

### VARIABLES
@authBaseUrl = http://localhost:8090/api/auth
@secureBaseUrl = http://localhost:8090/api/secure

### 55. REGISTRO DE NUEVO USUARIO
POST {{authBaseUrl}}/register
Content-Type: application/json

{
    "username": "juanperez2",
    "email": "juan222@example.com",
    "password": "miPassword123!",
    "role": "ROLE_USER"
}

### 56. REGISTRO DE OTRO USUARIO - ADMIN
POST {{authBaseUrl}}/register
Content-Type: application/json

{
    "username": "admin22",
    "email": "admin22@example.com",
    "password": "adminPassword123!",
    "role": "ROLE_ADMIN"
}

### 57. LOGIN CON CREDENCIALES CORRECTAS
POST {{authBaseUrl}}/login
Content-Type: application/json

{
    "username": "juanperez",
    "password": "miPassword123!"
}

### 58. LOGIN CON CREDENCIALES INCORRECTAS
POST {{authBaseUrl}}/login
Content-Type: application/json

{
    "username": "juanpérez",
    "password": "passwordIncorrecto"
}

### ========================================
### ENDPOINTS SECURIZADOS CON JWT
### Requieren autenticación con token JWT
### ========================================

### 59. OBTENER PERFIL DEL USUARIO AUTENTICADO tanto aqui como en la de abajo pones el token que te de el login o el crear usuario
GET {{secureBaseUrl}}/usuarios/perfil
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiUk9MRV9BRE1JTiIsInN1YiI6ImFkbWluMjIiLCJpYXQiOjE3NzEzMzI1MTgsImV4cCI6MTc3MTM2ODUxOH0.0KDaZQGsrNt7SQKf9BZLuOWI2duDuEii6iMtBHEo1gPk3KPFXnt_B_qLzKbExPpESs4aAUmWbPtyktnWoklvQg

### 60. OBTENER USUARIO POR ID (SECURIZADO)
GET {{secureBaseUrl}}/usuarios/1
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiUk9MRV9BRE1JTiIsInN1YiI6ImFkbWluMjIiLCJpYXQiOjE3NzEzMzI1MTgsImV4cCI6MTc3MTM2ODUxOH0.0KDaZQGsrNt7SQKf9BZLuOWI2duDuEii6iMtBHEo1gPk3KPFXnt_B_qLzKbExPpESs4aAUmWbPtyktnWoklvQg

### ENDPOINTS DE CONSULTAS AGREGADAS - JUGADORES

### Estadísticas de jugadores por posición
GET http://localhost:8090/api/futbol/jugadores/estadisticas/por-posicion
Content-Type: application/json

### Estadísticas de jugadores por nacionalidad
GET http://localhost:8090/api/futbol/jugadores/estadisticas/por-nacionalidad
Content-Type: application/json

### Total de jugadores
GET http://localhost:8090/api/futbol/jugadores/estadisticas/total
Content-Type: application/json

### Promedio de jugadores por equipo
GET http://localhost:8090/api/futbol/jugadores/estadisticas/promedio-por-equipo
Content-Type: application/json

### ENDPOINTS DE CONSULTAS AGREGADAS - EQUIPOS

### Estadísticas generales del sistema
GET http://localhost:8090/api/futbol/estadisticas/generales
Content-Type: application/json

### Estadísticas de jugadores por equipo
GET http://localhost:8090/api/futbol/estadisticas/equipos
Content-Type: application/json

### Estadísticas de equipos por liga
GET http://localhost:8090/api/futbol/estadisticas/ligas
Content-Type: application/json

### Total de equipos
GET http://localhost:8090/api/futbol/estadisticas/total-equipos
Content-Type: application/json
